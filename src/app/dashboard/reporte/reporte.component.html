<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Reportes</h4>
        <div class="row">
          <div class="d-flex justify-content-center">
            <div class="col-6">
              <ul class="list-ticked">
                <li>Solo archivos .xlsx o .xls</li>

              </ul>

               <form [formGroup]="f">
                <div class="input-group">
                  <input type="file" class="form-control" (change)="handleFileInput($event)" formControlName="file" placeholder="Seleccione un archivo excel"
                  name="file" />
                  <div class="input-group-append">
                    <button class="btn btn-outline-danger btn-rounded mb-2 " (click)="this.f.reset();showbtn=false;data=[];dataPagos=[]" *ngIf="showbtn"><i
                      class="fa fa-trash"></i></button>


                  </div>
                </div>

            </form>
            </div>

          </div>


        </div>
        <hr>
        <div class="row">
          <div class="d-flex justify-content-center">
            <div class="col-6">
              <table class="table table-borderless" *ngIf="showbtn">
                <tbody>
                  <tr>
                    <td>
                      <h6>Datos del archivo {{fileName}}</h6>
                      <p class="text-muted mb-0">Cantidad de trabajadores procesados para comparar  </p>
                    </td>
                    <td>
                      <h3 class="text-primary">
                        {{data.length}}
                      </h3>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <h6>Datos del sistema </h6>
                      <p class="text-muted mb-0">Datos obtenidos desde <a [routerLink]="['/obras/inicio/detalle-pagos']">detalle pago</a> </p>
                    </td>
                    <td>
                      <h3 class="text-success">
                        {{dataPagos.length}}
                      </h3>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <h6>Coincidencias </h6>
                      <p class="text-muted mb-0">Los datos los puedes ver en la grilla de abajo </p>
                    </td>
                    <td>
                      <h3 class="text-info">
                        {{dataGrid.length}}
                      </h3>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <h6>Diferencia </h6>
                      <p class="text-muted mb-0">Cantidad de trabajadores que no existen en <a [routerLink]="['/obras/inicio/detalle-pagos']">detalle pago</a> </p>
                    </td>
                    <td>
                      <h3 class="text-danger">
                        {{data.length - dataPagos.length}}
                      </h3>
                    </td>
                  </tr>
                </tbody>
              </table>

            </div>


          </div>


        </div>
        <hr>
        <div class="row mt-2" *ngIf="this.dataPagos.length>0">
          <div class="col-12">
            <div class="d-flex justify-content-center"><button class="btn btn-outline-success btn-rounded mb-2" (click)="exportexc()">Exportar a excel<i
              class="fa fa-file-excel-o ml-2"></i></button></div>

          </div>
        </div>
        <div class="row mt-2" *ngIf="this.dataPagos.length>0">
          <div class="col-12">
            <div class="table-responsive1">
              <app-table-aggrid [datos]="dataGrid" [columnas]="columnDefs"></app-table-aggrid>
            </div>
          </div>
        </div>



      </div>
    </div>
  </div>
</div>
